<div fxLayout="row" fxLayoutAlign="center start" fxLayoutWrap="true" fxLayoutGap="10px">

  <div style="margin-top: 10px;"  fxFlex.gt-xs="70" fxFlex.gt-md="60" fxFlex="100" *ngIf="party != null">

    <mat-toolbar color="primary">
      <span>{{ party.name }} - {{ party.description}}</span>
      <div fxLayoutAlign="end center" class="full-width">
        <button mat-raised-button color="accent">Leave party</button>
      </div>
    </mat-toolbar>

    <mat-card style="height: 62vh; padding: 2px;" *ngIf="queue != null">
      <mat-card-content>

        <div fxLayout="column" fxLayoutAlign="center center" *ngIf="queue.entries.length == 0">
          <h1>The queue is empty</h1>
          <h2>Start by selecting a song using the search field above</h2>
        </div>

        <mat-list>
          <app-queue-list-item *ngFor="let entry of queue.entries" [entry]="entry"
                               class="typical-list-item"></app-queue-list-item>
        </mat-list>
      </mat-card-content>
    </mat-card>

  </div>

  <div fxFlex.gt-xs="70" fxFlex.gt-md="30" fxFlex="100" *ngIf="party != null">
    <mat-toolbar color="primary">
      <span>Chat</span>
    </mat-toolbar>
    <mat-card style="height: 62vh; padding: 2px;">
      <mat-card-content class="chat-container">
        <div style="overflow: scroll; height: 100%;" #chatContainer [scrollTop]="chatContainer.scrollHeight">
          <mat-list>
            <mat-list-item style="padding: 0; margin: 0; height: 18px;" *ngFor="let message of messages">
              <span style="font-size: 13px; font-weight: bold;" [style.color]="getMessageColor(message)">
                {{message.sender}}</span><span style="font-size: 13px">: {{message.message | emojify}}</span>
            </mat-list-item>
          </mat-list>
        </div>
        <div class="send-chat-btn">
          <input mdInput class="chat-input" (keydown)="sendChatMessage($event)" #chatInput placeholder="Type to chat">
          <button mat-raised-button color="accent" [disabled]="!websocketAuthenticated" (click)="sendChatMessage()">Send</button>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>
